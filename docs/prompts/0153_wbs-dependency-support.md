---
wbs: "0007"
topic: "rd2:tasks Agent Skill Upgrade"
name: "WBS Dependency Support"
description: "Add dependency field support to task files and implement dependency tracking"
status: Backlog
created_at: "2026-02-02"
updated_at: "2026-02-02"
impl_progress:
  planning: pending
  design: pending
  implementation: pending
  review: pending
  testing: pending
---

## 0153. WBS Dependency Support

### Background

Claude Code's new Task tools support dependency tracking - tasks can reference other tasks that must complete first. The rd2:tasks skill needs to:

1. Store dependencies in task files using WBS numbers
2. Translate between WBS numbers and Claude Code task IDs
3. Validate dependencies to prevent circular references
4. Display dependency relationships to users

This enables proper workflow management where dependent tasks are executed in the correct order.

### Requirements

1. **TaskFile Schema Update**: Add `dependencies` field (array of WBS strings) to TaskFile interface
2. **Dependency Parsing**: Parse dependencies from task file frontmatter
3. **WBS to ID Mapping**: Maintain mapping between WBS numbers and Claude Code task IDs
4. **Dependency Validation**: Detect circular dependencies and invalid WBS references
5. **Dependency Display**: Show dependency relationships in task listings
6. **Dependency Propagation**: When syncing to Claude Code, convert WBS to task IDs

### Q&A

[Clarifications to be added during planning phase]

### Design

[Architecture specs to be added by specialists]

### Plan

1. Update TaskFile interface to include dependencies
2. Implement dependency parsing from frontmatter
3. Create WBS-to-ID mapping storage
4. Implement circular dependency detection algorithm
5. Add validation for invalid WBS references
6. Update task listing to show dependencies
7. Add unit tests for dependency logic

### Artifacts

| Type | Path | Generated By | Date |
| ---- | ---- | ------------ | ---- |

### References

- [Master Task: 0001_rd2-tasks-upgrade.md](/docs/prompts/0001_rd2-tasks-upgrade.md)
