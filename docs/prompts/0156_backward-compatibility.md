---
wbs: "0010"
topic: "rd2:tasks Agent Skill Upgrade"
name: "Backward Compatibility Implementation"
description: "Ensure TodoWrite fallback works correctly when new tools are unavailable"
status: Backlog
created_at: "2026-02-02"
updated_at: "2026-02-02"
impl_progress:
  planning: pending
  design: pending
  implementation: pending
  review: pending
  testing: pending
---

## 0156. Backward Compatibility Implementation

### Background

Some Claude Code environments may not have the new Task tools available (older versions, restricted configurations). The rd2:tasks skill must:

1. **Always Work**: Provide full functionality regardless of tool availability
2. **Transparent Fallback**: Users should not notice when fallback occurs
3. **Feature Parity**: Legacy mode should support all core features
4. **Clear Indication**: Inform users when legacy mode is active (optional)

The TodoWrite adapter is the fallback that maintains backward compatibility.

### Requirements

1. **TodoWrite Adapter**: Fully implement TodoWrite for all operations
2. **Feature Parity**: Support status updates, task creation, deletion via TodoWrite
3. **State Management**: Track which tool is in use for debugging
4. **User Notification**: Optionally notify when using legacy mode
5. **Performance**: Minimize performance difference between modes
6. **Testing**: Ensure all features work in both modes

### Q&A

[Clarifications to be added during planning phase]

### Design

[Architecture specs to be added by specialists]

### Plan

1. Implement TodoWriteAdapter with all required methods
2. Test TodoWrite for create, read, update, delete operations
3. Add state tracking for tool usage
4. Implement user notification option
5. Benchmark performance comparison
6. Test all commands in legacy mode

### Artifacts

| Type | Path | Generated By | Date |
| ---- | ---- | ------------ | ---- |

### References

- [Master Task: 0001_rd2-tasks-upgrade.md](/docs/prompts/0001_rd2-tasks-upgrade.md)
